angular.module("ccController",[]).controller("ccController",function(e,a){e.isIndex0=!0,e.isIndex1=!1,e.isIndex2=!1,e.selectDate="2017",e.isShow=!1,e.isLowShow=!1,e.dateLists=[{date:2014,checked:!1},{date:2015,checked:!1},{date:2016,checked:!1},{date:2017,checked:!0},{date:2018,checked:!1},{date:2019,checked:!1},{date:2020,checked:!1},{date:2021,checked:!1},{date:2022,checked:!1}];var o={"海门":[-91.15,43.89],"海门1":[91.15,50.89],"海门2":[110.15,50],"海门3":[130.15,50],"海门4":[120.15,35.89],"海门5":[85.15,25.89],"海门6":[110.15,20],"海门7":[-50,-10],"非洲":[25.15,20]},t={"海门":[20.15,20.89],"海门1":[91.15,50.89],"海门2":[110.15,60],"海门6":[110.15,20],"海门7":[-50,-10],"非洲":[125.15,30]},i={"海门":[-91.15,43.89],"海门1":[91.15,50.89],"海门2":[110.15,70],"海门3":[130.15,50],"海门4":[120.15,35.89],"海门5":[85.15,25.89]},n=0,s=[1100,1400,1100,1500,1600,1200,1620],r=[0,900,700,1500,765,1200,620],d=[0,700,400,1200,900,200,800],l=[800,900,1100,1500,1600],c=[1e3,1100,1100,1700,1600],u=[1100,800,1100,1400,1600],p=[700,1e3,1100,1600,1600],h=[1200,1400,1500,1100,1700],m=[1e3,1200,1100,1500,1300],f=function(e){var a=[],s=o;switch(n){case 0:s=o;break;case 1:s=t;break;case 2:s=i}for(var r=0;r<e.length;r++){var d=s[e[r].name];d&&a.push({name:e[r].name,value:d.concat(e[r].value)})}return a};e.onDateSpinnerClick=function(){e.isShow=!e.isShow},e.onDateClick=function(a){angular.forEach(e.dateLists,function(e){e.checked=!1}),e.selectDate=e.dateLists[a].date,e.dateLists[a].checked=!0,e.isShow=!1,0==e.count2?(option2.series[0].data=s,option2.series[1].data=l,option2.series[2].data=p,e.count2++):1==e.count2?(option2.series[0].data=r,option2.series[1].data=c,option2.series[2].data=h,e.count2++):2==e.count2&&(option2.series[0].data=d,option2.series[1].data=u,option2.series[2].data=m,e.count2=0),x.setOption(option2)},e.onTabClick=function(a){switch(a){case 0:e.isIndex0=!0,e.isIndex1=!1,e.isIndex2=!1,option2.series[0].data=s,option2.series[1].data=l,option2.series[2].data=p;break;case 1:e.isIndex0=!1,e.isIndex1=!0,e.isIndex2=!1,option2.series[0].data=r,option2.series[1].data=c,option2.series[2].data=h;break;case 2:e.isIndex0=!1,e.isIndex1=!1,e.isIndex2=!0,option2.series[0].data=d,option2.series[1].data=u,option2.series[2].data=m}n=a,option.series[0].data=f([{name:"海门",value:"光照：80%；湿度：67%；温度：27℃"},{name:"海门1",value:"光照：60%；湿度：40%；温度：37℃"},{name:"海门2",value:"光照：75%；湿度：63%；温度：23℃"},{name:"海门3",value:"光照：75%；湿度：70%；温度：18℃"},{name:"海门4",value:"光照：40%；湿度：85%；温度：16℃"},{name:"海门5",value:"光照：60%；湿度：30%；温度：30℃"},{name:"海门6",value:"光照：69%；湿度：40%；温度：29℃"},{name:"海门7",value:"光照：69%；湿度：60%；温度：28℃"},{name:"非洲",value:"光照：100%；湿度：80%；温度：22℃"}]),g.setOption(option),x.setOption(option2)},e.count=0,e.count2=0;var g=echarts.init(document.getElementById("main")),x=echarts.init(document.getElementById("pic"));e.isBeijingShow=!1,e.isShanghaiShow=!1,e.isZhengzhouShow=!1,e.isGuangzhouShow=!1,g.on("click",function(a){"海门3"==a.name?(e.isBeijingShow=!0,e.isShanghaiShow=!1,e.isZhengzhouShow=!1,e.isGuangzhouShow=!1):"海门4"==a.name?(e.isBeijingShow=!1,e.isShanghaiShow=!0,e.isZhengzhouShow=!1,e.isGuangzhouShow=!1):"海门6"==a.name?(e.isBeijingShow=!1,e.isShanghaiShow=!1,e.isZhengzhouShow=!0,e.isGuangzhouShow=!1):"非洲"==a.name?(e.isBeijingShow=!1,e.isShanghaiShow=!1,e.isZhengzhouShow=!1,e.isGuangzhouShow=!0):(e.isBeijingShow=!1,e.isShanghaiShow=!1,e.isZhengzhouShow=!1,e.isGuangzhouShow=!1),e.$apply(),0==e.count?(option2.series[0].data=s,option2.series[1].data=l,option2.series[2].data=p,e.count++):1==e.count?(option2.series[0].data=r,option2.series[1].data=c,option2.series[2].data=h,e.count++):2==e.count&&(option2.series[0].data=d,option2.series[1].data=u,option2.series[2].data=m,e.count=0),x.setOption(option2)}),option={backgroundColor:"#3c8dbc",roamController:{show:!0,x:"left",y:"bottom",width:120,height:200,borderWidth:1,padding:[15,15,15,15],fillerColor:"#000",handleColor:"#e3655a",step:10,mapTypeControl:{world:!0}},geo:{map:"world",label:{emphasis:{show:!1}},itemStyle:{normal:{borderColor:"#3c8dbc",areaColor:"#ffffff"},emphasis:{areaColor:"#bbd9e9"}}},series:[{symbolSize:20,itemStyle:{normal:{color:function(e){return"海门"==e.data.name||"海门4"==e.data.name||"海门6"==e.data.name||"海门1"==e.data.name||"非洲"==e.data.name?"#faa4c7":"#fdc343"}}},type:"scatter",coordinateSystem:"geo",data:f([{name:"海门",value:"光照：80%；湿度：67%；温度：27℃"},{name:"海门1",value:"光照：60%；湿度：40%；温度：37℃"},{name:"海门2",value:"光照：75%；湿度：63%；温度：23℃"},{name:"海门3",value:"光照：75%；湿度：70%；温度：18℃"},{name:"海门4",value:"光照：40%；湿度：85%；温度：16℃"},{name:"海门5",value:"光照：60%；湿度：30%；温度：30℃"},{name:"海门6",value:"光照：69%；湿度：40%；温度：29℃"},{name:"海门7",value:"光照：69%；湿度：60%；温度：28℃"},{name:"非洲",value:"光照：100%；湿度：80%；温度：22℃"}])}]},option2={backgroundColor:"#ffffff",title:{left:"center",top:"2%",text:"产量-年份，价格-年份趋势图",subtext:"Jan, 2017 - Jan, 2021"},tooltip:{trigger:"axis"},color:["#fecc7d","#2891f1","#f8c042"],calculable:!0,legend:{left:"80%",data:["价格","原材料产量","原材料需求"]},xAxis:[{type:"category",data:["2017","2018","2019","2020","2021","2022","2023"]}],yAxis:[{max:2e3,type:"value",name:"价格",axisLabel:{formatter:"{value}"}},{max:2e3,type:"value",name:"产量",axisLabel:{formatter:"{value}"}}],series:[{radius:"50%",name:"价格",type:"bar",barWidth:60,data:[1100,1400,1100,1500,1600,1200,1620]},{radius:"50%",name:"原材料产量",type:"line",areaStyle:{normal:{color:["rgba(40, 145, 241, 0.3)"]}},label:{normal:{show:!0,textStyle:{fontSize:8,color:["rgba(40, 145, 241)"]},position:"bottom",formatter:function(e,a){return 765==e.data?e.data:""}}},data:[0,900,700,1500,765,1200,620]},{radius:"50%",name:"原材料需求",type:"line",areaStyle:{normal:{color:["rgba(254, 204, 125, 0.3)"]}},yAxisIndex:1,data:[0,700,400,1200,900,200,800]}]},option3={backgroundColor:"#ffffff",tooltip:{trigger:"axis"},grid:{left:"left",top:"12%",containLabel:!0},color:["#fecc7d","#2891f1","#f8c042"],calculable:!0,legend:{left:"65%",data:["价格","原材料产量","原材料需求"]},xAxis:[{type:"category",data:["2017","2018","2019","2020","2021","2022","2023"]}],yAxis:[{max:2e3,type:"value",name:"价格",axisLabel:{formatter:"{value}"}},{max:2e3,type:"value",name:"产量",axisLabel:{formatter:"{value}"}}],series:[{radius:"50%",name:"价格",type:"bar",barWidth:60,data:[1100,1400,1100,1500,1600,1200,1620]},{radius:"50%",name:"原材料产量",type:"line",areaStyle:{normal:{color:["rgba(40, 145, 241, 0.3)"]}},data:[0,900,700,1500,765,1200,620]},{radius:"50%",name:"原材料需求",type:"line",areaStyle:{normal:{color:["rgba(254, 204, 125, 0.3)"]}},yAxisIndex:1,data:[0,700,400,1200,900,200,800]}]},x.on("click",function(a){1600==a.value||765==a.value?(e.isLowShow=!0,e.$apply(),x.setOption(option2)):(e.isLowShow=!1,e.$apply(),x.setOption(option2))}),e.isIndex10=!0,e.isIndex11=!1,e.isIndex12=!1,e.onTabClick2=function(a){switch(a){case 0:e.isIndex10=!0,e.isIndex11=!1,e.isIndex12=!1,option3.series[0].data=s,option3.series[1].data=l,option3.series[2].data=p;break;case 1:e.isIndex10=!1,e.isIndex11=!0,e.isIndex12=!1,option3.series[0].data=r,option3.series[1].data=c,option3.series[2].data=h;break;case 2:e.isIndex10=!1,e.isIndex11=!1,e.isIndex12=!0,option3.series[0].data=d,option3.series[1].data=u,option3.series[2].data=m}S.setOption(option3)},g.setOption(option),x.setOption(option2);var S=echarts.init(document.getElementById("low"));S.setOption(option3)});